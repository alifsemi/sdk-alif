# Copyright 2025 Alif Semiconductor
# SPDX-License-Identifier: Apache-2.0
#
# ExecutorTorch Keyword Spotting Application Configuration

# Enable ExecuTorch
CONFIG_EXECUTORCH=y

# C++ Configuration
CONFIG_CPP=y
CONFIG_STD_CPP17=y

# Memory Configuration - increased for ExecutorTorch requirements
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Logging
CONFIG_REQUIRES_FLOAT_PRINTF=y

# Ethos-U NPU Driver
CONFIG_ARM_ETHOS_U=y
CONFIG_ARM_ETHOS_U_LOG_LEVEL_DBG=y

# ExecutorTorch Memory Pool Configuration
# Method allocator: 1.5MB for model setup and tensor allocation
CONFIG_EXECUTORCH_METHOD_ALLOCATOR_POOL_SIZE=1572864
# Temp allocator: 1.5MB for Ethos-U scratch memory
CONFIG_EXECUTORCH_TEMP_ALLOCATOR_POOL_SIZE=1572864

# Selective operator build - only include ops needed by the model
CONFIG_EXECUTORCH_BUILD_PORTABLE_OPS=n

# FPU Configuration for Helium/MVE optimizations
CONFIG_FPU=y
CONFIG_FP_HARDABI=y
